(this.webpackJsonpread_infra_front=this.webpackJsonpread_infra_front||[]).push([[0],{237:function(e,t,a){e.exports=a(560)},242:function(e,t,a){},560:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),l=a.n(c),o=(a(242),a(64)),u=a(41),m=a(196),i=a(14),s=a(17),d=a.n(s),f=a(32),p=a.n(f),b=a(65);function h(e){return r.a.createElement(b.a,{style:{width:"18rem"}},r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Title,null,e.name),r.a.createElement(b.a.Text,null,e.data.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url},e.name),r.a.createElement("br",null))})))))}var E=a(85),j=a(60),g=a(52);function O(){var e,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),s=u[0],f=u[1],b=Object(n.useState)([]),O=Object(i.a)(b,2),k=O[0],v=O[1],y=["hacker_news","huxiu","36kr","MIT","zaobao","wsj","nfzm"],_=Object(n.useState)(0),x=Object(i.a)(_,1)[0],w=(null!==(e="https://cors-anywhere.herokuapp.com/http://44.232.253.221")?e:"127.0.0.1")+":"+("538","538");Object(n.useEffect)((function(){d.a.get("".concat(w,"/source?file=news")).then((function(e){l(e.data.data.map((function(e,t){return e.name})))}))}),[x]),Object(n.useEffect)((function(){var e=y.map((function(e){return d.a.get("".concat(w,"/rss?name=").concat(e))}));Promise.all(e).then((function(e){v(e.map((function(e,t){var a=e.data.data.map((function(e,t){return{name:e.name,url:e.url}}));return{name:y[t],rs:a}})))}))}),[x]),Object(n.useEffect)((function(){var e=c.map((function(e){return d.a.get("".concat(w,"/daily_read?entity=").concat(e,"&daily_read_date=3"))})),t=0;Promise.all(e).then((function(e){var a=[];e.map((function(e){e.data.data.map((function(e){a.push(Object(m.a)({id:t,name:e.entity,date:e.date,url:e.url},"name",e.name)),t+=1}))})),f(a)}))}),[c]);var F=[{dataField:"id",text:"ID"},{dataField:"name",text:"Name",formatter:function(e,t){return r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.name)}},{dataField:"date",text:"DATE"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(j.a,null,k.map((function(e){return r.a.createElement(g.a,{key:e.name},r.a.createElement(h,{data:e.rs,name:e.name}))}))),r.a.createElement(j.a,null,r.a.createElement(g.a,null,r.a.createElement(p.a,{keyField:"id",data:s.sort((function(e,t){return t.date.localeCompare(e.date)})),columns:F})))))}function k(){var e,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=(null!==(e="https://cors-anywhere.herokuapp.com/http://44.232.253.221")?e:"127.0.0.1")+":"+("538","538"),u=Object(n.useState)(0),m=Object(i.a)(u,1)[0];Object(n.useEffect)((function(){d.a.get("".concat(o,"/video")).then((function(e){l(e.data.data.map((function(e){return{name:e.name,url:e.url,up:e.up,published:e.published}})))}))}),[m]);var s=[{dataField:"up",text:"Up"},{dataField:"name",text:"Name",formatter:function(e,t){return r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.name)}},{dataField:"published",text:"Date",formatter:function(e,t){return new Date(1e3*t.published).toDateString()}}];return r.a.createElement(p.a,{keyField:"published",data:c.sort((function(e,t){return t.published-e.published})),columns:s})}var v=a(299);function y(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),u=o[0],m=o[1],s=Object(n.useState)(""),f=Object(i.a)(s,2),p=f[0],b=f[1],h=(null!=="44.232.253.221"?"44.232.253.221":"127.0.0.1")+":"+("538","538"),O=Object(n.useState)(0),k=Object(i.a)(O,1)[0];return Object(n.useEffect)((function(){d.a.get("".concat(h,"/markdown_list")).then((function(e){c(e.data.data.map((function(e){return{name:e.name}})))}))}),[k]),Object(n.useEffect)((function(){console.log(p),d.a.get("".concat(h,"/markdown?name=").concat(p)).then((function(e){m(e.data.data[0].content)}))}),[p,k]),r.a.createElement(E.a,null,r.a.createElement(j.a,null,r.a.createElement(g.a,{xs:2},a.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#",onClick:function(){b(e.name)},key:e.name},e.name),r.a.createElement("br",null))}))),r.a.createElement(g.a,null,r.a.createElement(v,{source:u}))))}var _=a(40),x=a(204);function w(){var e,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),m=u[0],s=u[1],f=Object(n.useState)(!0),b=Object(i.a)(f,2),h=b[0],E=b[1],j=Object(n.useState)(0),g=Object(i.a)(j,1)[0],O=(null!==(e="https://cors-anywhere.herokuapp.com/http://44.232.253.221")?e:"127.0.0.1")+":"+("538","538");Object(n.useEffect)((function(){d.a.get("".concat(O,"/stock?stock_type=all")).then((function(e){l(e.data.data.map((function(e,t){return{name:e.name,buy:e.buy,stock_type:e.stock_type}})))}))}),[g]),Object(n.useEffect)((function(){var e=c.map((function(e){return d.a.get("".concat(O,"/stock_data?name=").concat(e.name,"&stock_date=30"))}));Promise.all(e).then((function(e){var t=[];e.map((function(e){var a=e.data.data,n=[];a.map((function(e){n.push({close_price:e.close_price,date:e.date,ma20:e.ma20,ma5:e.ma5,name:e.name,max_price:Math.max(e.close_price)+10,min_price:Math.min(e.close_price)-10})})),t.push(n.sort((function(e,t){return e.date.localeCompare(t.date)})))})),E(!1),s(t),console.log(t)}))}),[c]);var k=[{dataField:"name",text:"Name",formatter:function(e,t){return t[0].name}},{dataField:"close_price",text:"Picture",formatter:function(e,t){return r.a.createElement(_.b,{width:500,height:100,data:t},r.a.createElement(_.a,{type:"monotone",dataKey:"ma5",stroke:"#de1d10"}),r.a.createElement(_.a,{type:"monotone",dataKey:"ma20",stroke:"#0b91de"}),r.a.createElement(_.a,{type:"monotone",dataKey:"close_price",stroke:"#232224"}),r.a.createElement(_.c,{dataKey:"date"}),r.a.createElement(_.d,{domain:[t.min_price,t.max_price]}))}},{dataField:"ma5",text:"MA5",formatter:function(e,t){return t[t.length-1].ma5.toFixed(2)}},{dataField:"ma20",text:"MA20",formatter:function(e,t){return t[t.length-1].ma20.toFixed(2)}},{dataField:"close price",text:"Close price",formatter:function(e,t){return t[t.length-1].close_price}},{dataField:"suggestion",text:"\u5efa\u8bae",formatter:function(e,t){return t[t.length-1].ma5>t[t.length-1].ma20?"\u4e70":"\u5356"}}];return!0===h?r.a.createElement(x.a,{animation:"border"}):r.a.createElement(p.a,{keyField:"id",data:m,columns:k})}function F(){var e,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=(null!==(e="https://cors-anywhere.herokuapp.com/http://44.232.253.221")?e:"127.0.0.1")+":"+("538","538"),u=Object(n.useState)(0),m=Object(i.a)(u,1)[0];Object(n.useEffect)((function(){d.a.get("".concat(o,"/blog")).then((function(e){l(e.data.data.map((function(e){return{name:e.name,url:e.url,up:e.up,published:e.published}})))}))}),[m]);var s=[{dataField:"up",text:"Up"},{dataField:"name",text:"Name",formatter:function(e,t){return r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.name)}},{dataField:"published",text:"Date",formatter:function(e,t){return new Date(1e3*t.published).toDateString()}}];return r.a.createElement(p.a,{keyField:"published",data:c.sort((function(e,t){return t.published-e.published})),columns:s})}var S=a(39),D=a(13);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(o.a,{bg:"light",expand:"lg"},r.a.createElement(o.a.Brand,{href:"/"},"Daily Read"),r.a.createElement(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(o.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(u.a,{className:"mr-auto"},r.a.createElement(u.a.Link,{as:S.b,to:"/"},"Home"),r.a.createElement(u.a.Link,{as:S.b,to:"/news"},"News"),r.a.createElement(u.a.Link,{as:S.b,to:"/video"},"Video"),r.a.createElement(u.a.Link,{as:S.b,to:"/stock"},"Stock"),r.a.createElement(u.a.Link,{as:S.b,to:"/blog"},"Blog"))))),r.a.createElement(D.c,null,r.a.createElement(D.a,{path:"/news"},r.a.createElement(O,null)),r.a.createElement(D.a,{path:"/video"},r.a.createElement(k,null)),r.a.createElement(D.a,{path:"/stock"},r.a.createElement(w,null)),r.a.createElement(D.a,{path:"/blog"},r.a.createElement(F,null)),r.a.createElement(D.a,{path:"/"},r.a.createElement(y,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(558);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[237,1,2]]]);
//# sourceMappingURL=main.89b9e3bc.chunk.js.map